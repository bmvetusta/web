---
import { AUTH_SECRET_TOKEN } from 'astro:env/server';
import CoreGraphics from 'src/layouts/CoreGraphics.astro';
import { authCoreGraphicsCookieName } from 'src/services/core-graphics/constants';
import LiveStopwatch from './LiveStopwatch.astro';

export const prerender = false;
// export const partial = true;

const isAuth = Astro.cookies.get(authCoreGraphicsCookieName)?.value === AUTH_SECRET_TOKEN;
if (!isAuth) {
  return Astro.redirect('/core-graphics/setup');
}
---

<CoreGraphics>
  <LiveStopwatch />
</CoreGraphics>
